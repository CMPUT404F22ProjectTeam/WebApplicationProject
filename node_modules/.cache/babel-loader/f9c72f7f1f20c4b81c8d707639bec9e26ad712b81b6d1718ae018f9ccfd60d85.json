{"ast":null,"code":"import _slicedToArray from\"/Users/heyuting/404lab/404_project/WebApplicationProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Navbar from'../../components/Navbar/Navbar';import'./worldPage.css';import axios from'axios';import{useLocation}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function OtherUserPage(){var me=\"1111111111\";var base_url=\"https://fallprojback.herokuapp.com\";var _useState=useState(''),_useState2=_slicedToArray(_useState,2),objectName=_useState2[0],setObjectName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var location=useLocation();var AUTHOR_ID=location.state.id;var navigate=useNavigate();var authorId=String(AUTHOR_ID).split(\"/\").pop();useEffect(function(){axios.get(\"\".concat(AUTHOR_ID)).then(function(data){setObjectName(data.data.displayName);}).catch(function(e){return console.log(e);});},[objectName,AUTHOR_ID]);var handleBack=function handleBack(){navigate(-1);};var handleFollow=function handleFollow(){axios.post(\"\".concat(base_url,\"/authors/\").concat(me,\"/follow_request/\").concat(authorId,\"/\")).then(function(response){setResponse(response.data);console.log(response);}).catch(function(e){return console.log(e);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"worldPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"split world\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"BackButton\",onClick:handleBack,children:\"<\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"userHeader\",children:objectName}),/*#__PURE__*/_jsxs(\"div\",{className:\"beFriendButton\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"followButton\",onClick:handleFollow,children:\"Follow\"}),/*#__PURE__*/_jsx(\"button\",{className:\"followButton\",children:\"Unfollow\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"flash\",children:response})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Navbar","axios","useLocation","useNavigate","OtherUserPage","me","base_url","objectName","setObjectName","response","setResponse","location","AUTHOR_ID","state","id","navigate","authorId","String","split","pop","get","then","data","displayName","catch","e","console","log","handleBack","handleFollow","post"],"sources":["/Users/heyuting/404lab/404_project/WebApplicationProject/src/views/world/otherUserPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Navbar from '../../components/Navbar/Navbar'\nimport './worldPage.css'\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function OtherUserPage() {\n    const me = \"1111111111\";\n    const base_url = \"https://fallprojback.herokuapp.com\";\n    const [objectName, setObjectName] = useState('');\n    const [response, setResponse] = useState('');\n    const location = useLocation();\n    const AUTHOR_ID = location.state.id;\n    const navigate = useNavigate();\n    var authorId = String(AUTHOR_ID).split(\"/\").pop();\n\n    useEffect(() => {\n        axios\n            .get(`${AUTHOR_ID}`)\n            .then((data) => {\n                setObjectName(data.data.displayName)\n            })\n            .catch((e) => console.log(e));\n    }, [objectName, AUTHOR_ID])\n\n    const handleBack = () => {\n        navigate(-1)\n    }\n\n    const handleFollow = () => {\n        axios\n            .post(`${base_url}/authors/${me}/follow_request/${authorId}/`)\n            .then((response) => {\n                setResponse(response.data)\n                console.log(response)\n            })\n            .catch((e) => console.log(e));\n    }\n    return (\n        <div className='worldPage'>\n            <div className='bar'>\n                <Navbar />\n            </div>\n            <div className='split world'>\n                <div className='container'>\n                    <button className=\"BackButton\" onClick={handleBack}>{\"<\"}</button>\n                    <h1 className='userHeader'>{objectName}</h1>\n                    <div className=\"beFriendButton\">\n                        <button className=\"followButton\" onClick={handleFollow}>Follow</button>\n                        <button className=\"followButton\">Unfollow</button>\n                    </div>\n                    <p className='flash'>{response}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"8IAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAO,iBAAiB,CACxB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,cAAe,SAASC,cAAa,EAAG,CACpC,GAAMC,GAAE,CAAG,YAAY,CACvB,GAAMC,SAAQ,CAAG,oCAAoC,CACrD,cAAoCR,QAAQ,CAAC,EAAE,CAAC,wCAAzCS,UAAU,eAAEC,aAAa,eAChC,eAAgCV,QAAQ,CAAC,EAAE,CAAC,yCAArCW,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,UAAS,CAAGD,QAAQ,CAACE,KAAK,CAACC,EAAE,CACnC,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAC9B,GAAIa,SAAQ,CAAGC,MAAM,CAACL,SAAS,CAAC,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAEjDpB,SAAS,CAAC,UAAM,CACZE,KAAK,CACAmB,GAAG,WAAIR,SAAS,EAAG,CACnBS,IAAI,CAAC,SAACC,IAAI,CAAK,CACZd,aAAa,CAACc,IAAI,CAACA,IAAI,CAACC,WAAW,CAAC,CACxC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,CAAC,QAAKC,QAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,CACrC,CAAC,CAAE,CAAClB,UAAU,CAAEK,SAAS,CAAC,CAAC,CAE3B,GAAMgB,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrBb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChB,CAAC,CAED,GAAMc,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB5B,KAAK,CACA6B,IAAI,WAAIxB,QAAQ,qBAAYD,EAAE,4BAAmBW,QAAQ,MAAI,CAC7DK,IAAI,CAAC,SAACZ,QAAQ,CAAK,CAChBC,WAAW,CAACD,QAAQ,CAACa,IAAI,CAAC,CAC1BI,OAAO,CAACC,GAAG,CAAClB,QAAQ,CAAC,CACzB,CAAC,CAAC,CACDe,KAAK,CAAC,SAACC,CAAC,QAAKC,QAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,CACrC,CAAC,CACD,mBACI,aAAK,SAAS,CAAC,WAAW,wBACtB,YAAK,SAAS,CAAC,KAAK,uBAChB,KAAC,MAAM,IAAG,EACR,cACN,YAAK,SAAS,CAAC,aAAa,uBACxB,aAAK,SAAS,CAAC,WAAW,wBACtB,eAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAEG,UAAW,UAAE,GAAG,EAAU,cAClE,WAAI,SAAS,CAAC,YAAY,UAAErB,UAAU,EAAM,cAC5C,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,eAAQ,SAAS,CAAC,cAAc,CAAC,OAAO,CAAEsB,YAAa,oBAAgB,cACvE,eAAQ,SAAS,CAAC,cAAc,sBAAkB,GAChD,cACN,UAAG,SAAS,CAAC,OAAO,UAAEpB,QAAQ,EAAK,GACjC,EACJ,GACJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}