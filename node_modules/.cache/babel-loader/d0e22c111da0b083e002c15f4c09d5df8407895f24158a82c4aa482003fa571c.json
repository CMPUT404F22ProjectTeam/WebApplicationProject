{"ast":null,"code":"module.exports = register;\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n  if (!options) {\n    options = {};\n  }\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}","map":{"version":3,"names":["module","exports","register","state","name","method","options","Error","Array","isArray","reverse","reduce","callback","bind","Promise","resolve","then","registry","registered","hook"],"sources":["/Users/heyuting/404lab/404_project/WebApplicationProject/node_modules/before-after-hook/lib/register.js"],"sourcesContent":["module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,SAASA,QAAQ,CAACC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAE;EAC9C,IAAI,OAAOD,MAAM,KAAK,UAAU,EAAE;IAChC,MAAM,IAAIE,KAAK,CAAC,2CAA2C,CAAC;EAC9D;EAEA,IAAI,CAACD,OAAO,EAAE;IACZA,OAAO,GAAG,CAAC,CAAC;EACd;EAEA,IAAIE,KAAK,CAACC,OAAO,CAACL,IAAI,CAAC,EAAE;IACvB,OAAOA,IAAI,CAACM,OAAO,EAAE,CAACC,MAAM,CAAC,UAAUC,QAAQ,EAAER,IAAI,EAAE;MACrD,OAAOF,QAAQ,CAACW,IAAI,CAAC,IAAI,EAAEV,KAAK,EAAEC,IAAI,EAAEQ,QAAQ,EAAEN,OAAO,CAAC;IAC5D,CAAC,EAAED,MAAM,CAAC,EAAE;EACd;EAEA,OAAOS,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,YAAY;IACxC,IAAI,CAACb,KAAK,CAACc,QAAQ,CAACb,IAAI,CAAC,EAAE;MACzB,OAAOC,MAAM,CAACC,OAAO,CAAC;IACxB;IAEA,OAAOH,KAAK,CAACc,QAAQ,CAACb,IAAI,CAAC,CAACO,MAAM,CAAC,UAAUN,MAAM,EAAEa,UAAU,EAAE;MAC/D,OAAOA,UAAU,CAACC,IAAI,CAACN,IAAI,CAAC,IAAI,EAAER,MAAM,EAAEC,OAAO,CAAC;IACpD,CAAC,EAAED,MAAM,CAAC,EAAE;EACd,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}